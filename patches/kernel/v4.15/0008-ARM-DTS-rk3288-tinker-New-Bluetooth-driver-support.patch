From 4d554004ae6578df1fd5d3ce2b7cf6733d760194 Mon Sep 17 00:00:00 2001
From: Myy Miouyouyou <myy@miouyouyou.fr>
Date: Mon, 8 Jan 2018 18:50:20 +0100
Subject: [PATCH] ARM: DTS: rk3288: tinker: New Bluetooth driver support

---
 arch/arm/boot/dts/rk3288-tinker.dts | 30 ++++++++++++------------------
 1 file changed, 12 insertions(+), 18 deletions(-)

diff --git a/arch/arm/boot/dts/rk3288-tinker.dts b/arch/arm/boot/dts/rk3288-tinker.dts
index 477a29010..05b8b7c3d 100644
--- a/arch/arm/boot/dts/rk3288-tinker.dts
+++ b/arch/arm/boot/dts/rk3288-tinker.dts
@@ -163,18 +163,6 @@
 		status = "okay";
 	};
 
-	wireless-bluetooth {
-		compatible = "bluetooth-platdata";
-		uart_rts_gpios = <&gpio4 19 GPIO_ACTIVE_LOW>;
-		pinctrl-names = "default","rts_gpio";
-		pinctrl-0 = <&uart0_rts>;
-		pinctrl-1 = <&uart0_gpios>;
-		BT,reset_gpio    = <&gpio4 29 GPIO_ACTIVE_HIGH>;
-		BT,wake_gpio     = <&gpio4 26 GPIO_ACTIVE_HIGH>;
-		BT,wake_host_irq = <&gpio4 31 GPIO_ACTIVE_HIGH>;
-		status = "okay";
-	};
-
 };
 
 &cpu0 {
@@ -567,12 +555,6 @@
 		};
 	};
 
-	wireless-bluetooth {
-		uart0_gpios: uart0-gpios {
-			rockchip,pins = <4 19 RK_FUNC_GPIO &pcfg_pull_none>;
-		};
-	};
-
 };
 
 &pwm0 {
@@ -612,6 +594,18 @@
 	status = "okay";
 	pinctrl-names = "default";
 	pinctrl-0 = <&uart0_xfer>, <&uart0_cts>;
+
+	bluetooth {
+		compatible = "realtek,rtl8723bs-bluetooth";
+		enable-gpios = <&gpio4  GPIO_ACTIVE_HIGH>;
+		reset-gpios = <&gpio4 29 GPIO_ACTIVE_HIGH>;
+		realtek,config-data = /bits/ 8 <
+			0x55 0xab 0x23 0x87 0x29 0x00 0xf4 0x00 0x01 0x01 0xf6 0x00
+			0x02 0x81 0x00 0xfa 0x00 0x02 0x12 0x80 0x0c 0x00 0x10 0x02
+			0x80 0x92 0x04 0x50 0xc5 0xea 0x19 0xe1 0x1b 0xfd 0xaf 0x5f
+			0x01 0xa4 0x0b 0xd9 0x00 0x01 0x0f 0xe4 0x00 0x01 0x08>;
+	};
+
 };
 
 &uart1 {
-- 
2.14.1

